# セッション7：空間図形II (7th Grade)

**対象:** Rust/Goプログラマのための数学超速習
**テーマ:** 立体の表面積と体積、球の計量

---

## Phase 1: Foundational Check (基礎の確認) - 10問

**「公式の導出」**: 体積や表面積の公式は、積分（積み重ね）の考え方の先取りです。単なる暗記ではなく、構造を理解しましょう。

### Q1. 角柱・円柱の体積
底面積を `S`、高さを `h` とするとき、角柱や円柱の体積 `V` を求める公式は？

<details>
<summary>解答と解説</summary>

**解答:** `V = Sh`

**解説:**
底面 `S` が高さ `h` 分だけ積み重なったもの（積分の基礎概念）。

> **Programming Link:**
> *   **Extrusion:** 2D図形を高さ方向に押し出して3D立体を作る操作（Extrude）です。
</details>

### Q2. 角錐・円錐の体積
底面積を `S`、高さを `h` とするとき、角錐や円錐の体積 `V` を求める公式は？

<details>
<summary>解答と解説</summary>

**解答:** `V = 1/3 Sh`

**解説:**
柱体の体積のちょうど 1/3 になる。
（立方体を分解して証明したり、積分で証明したりできます）
</details>

### Q3. 球の表面積
半径 `r` の球の表面積 `S` を求める公式は？

<details>
<summary>解答と解説</summary>

**解答:** `S = 4πr^2`

**解説:**
「心配ある事情 (4πr^2)」と覚えることも。
球の大円（断面積 `πr^2`）の4倍。
</details>

### Q4. 球の体積
半径 `r` の球の体積 `V` を求める公式は？

<details>
<summary>解答と解説</summary>

**解答:** `V = 4/3 πr^3`

**解説:**
「身の上に心配あるので参上 (4/3 πr^3)」と覚えることも。
表面積を積分すると体積になる（`r`で積分: `∫ 4πr^2 dr = 4/3 πr^3`）。
逆に体積を微分すると表面積になる。

> **Programming Link:**
> *   **Calculus:** 微分積分学の基本定理がここに現れています。
</details>

### Q5. 表面積の構成要素
立体の表面積を求めるには、何を足し合わせればよいですか。

<details>
<summary>解答と解説</summary>

**解答:** 底面積（×2 または ×1）と側面積の和。

**解説:**
展開図の面積の合計。
</details>

### Q6. 円柱の側面積
底面の半径 `r`、高さ `h` の円柱の側面積を求める式は？

<details>
<summary>解答と解説</summary>

**解答:** `2πrh`

**解説:**
展開すると長方形になる。
横の長さは底面の円周 `2πr` に等しい。
縦の長さは `h`。

> **Programming Link:**
> *   **Unwrapping:** テクスチャマッピングのためにメッシュを展開する際、歪みを最小限にする計算が必要です。
</details>

### Q7. 円錐の側面積
底面の半径 `r`、母線の長さ `l` の円錐の側面積を求める式は？

<details>
<summary>解答と解説</summary>

**解答:** `πrl`

**解説:**
展開するとおうぎ形になる。
弧の長さ `2πr`、半径 `l`。
面積 `1/2 × l × 2πr = πrl`。
</details>

### Q8. 相似な立体の体積比（予習）
相似比が `1:k` のとき、体積比はどうなりますか。

<details>
<summary>解答と解説</summary>

**解答:** `1 : k^3`

**解説:**
縦、横、高さがすべて `k` 倍になるため。
面積比は `1 : k^2`。

> **Programming Link:**
> *   **Scaling:** 3Dモデルを2倍に拡大すると、データ量（頂点数）は変わらなくても、レンダリングされるピクセル数（面積）は4倍、内包するボクセル数（体積）は8倍になります。
</details>

### Q9. 柱体の定義確認
三角柱の面は全部でいくつですか。

<details>
<summary>解答と解説</summary>

**解答:** 5つ

**解説:**
底面2つ + 側面3つ。
</details>

### Q10. 錐体の定義確認
四角錐の辺は全部で何本ですか。

<details>
<summary>解答と解説</summary>

**解答:** 8本

**解説:**
底面の辺4本 + 側面の辺4本。
</details>

---

## Phase 2: Applied Mastery (応用と実践) - 10問

**「分解と統合」**: 複雑な立体も、基本的な立体（柱、錐、球）の組み合わせ（和・差）で計算できます。

### Q11. 円柱の表面積計算
底面の半径3cm、高さ5cmの円柱の表面積を求めなさい。

<details>
<summary>解答と解説</summary>

**解答:** `48π` cm^2

**Tips:**
底面積: `9π` × 2 = `18π`
側面積: `2π × 3 × 5` = `30π`
合計: `48π`
</details>

### Q12. 円錐の表面積計算
底面の半径3cm、母線の長さ5cmの円錐の表面積を求めなさい。

<details>
<summary>解答と解説</summary>

**解答:** `24π` cm^2

**Tips:**
底面積: `9π`
側面積: `π × 3 × 5 = 15π`
合計: `24π`
</details>

### Q13. 球の体積計算
半径3cmの球の体積を求めなさい。

<details>
<summary>解答と解説</summary>

**解答:** `36π` cm^3

**Tips:**
`4/3 × π × 3^3 = 4/3 × π × 27 = 36π`
</details>

### Q14. 半球の表面積
半径 `r` の半球の表面積を求めなさい。

<details>
<summary>解答と解説</summary>

**解答:** `3πr^2`

**Tips:**
球面部分: `4πr^2 ÷ 2 = 2πr^2`
切り口（円）: `πr^2`
合計: `3πr^2`
**「条件を使い切ったか確認せよ」**: 切り口の面積を忘れがちです。
</details>

### Q15. 回転体の体積
縦4cm、横3cmの長方形を、縦の辺（4cmの方）を軸として1回転させてできる円柱の体積を求めなさい。

<details>
<summary>解答と解説</summary>

**解答:** `36π` cm^3

**Tips:**
底面は半径3cmの円。高さは4cm。
`9π × 4 = 36π`
</details>

### Q16. 複合立体の体積
立方体（一辺 `a`）から、内接する球を取り除いた残りの体積を求めなさい。

<details>
<summary>解答と解説</summary>

**解答:** `(1 - π/6) a^3`

**Tips:**
立方体: `a^3`
球の半径: `a/2`
球の体積: `4/3 π (a/2)^3 = 4/3 π (a^3/8) = π/6 a^3`
差: `a^3 - π/6 a^3`

> **Programming Link:**
> *   **Bounding Volume:** 衝突判定の効率化のために、複雑な形状を単純な形状（Bounding Box, Bounding Sphere）で近似した際の「隙間（無駄な領域）」の計算です。
</details>

### Q17. 水の上昇
底面の半径が10cmの円柱形の容器に水が入っています。ここに半径5cmの鉄球を完全に沈めたとき、水面は何cm上昇しますか？

<details>
<summary>解答と解説</summary>

**解答:** `5/3` cm

**Tips:**
鉄球の体積 = 上昇した分の水の体積。
鉄球: `4/3 π × 125 = 500/3 π`
容器の底面積: `100π`
上昇高さ `h` とすると、`100π × h = 500/3 π`
`h = 5/3`
</details>

### Q18. 円錐の展開図と中心角
母線の長さ12cm、底面の半径4cmの円錐の展開図において、側面となるおうぎ形の中心角は何度ですか。

<details>
<summary>解答と解説</summary>

**解答:** 120度

**Tips:**
中心角 `x` は、`360 × (底面の半径 / 母線)` で求められる。
`360 × 4/12 = 120`
</details>

### Q19. 正四角錐の高さ（三平方の定理の先取り）
底面が一辺 `2a` の正方形で、側面がすべて正三角形（一辺 `2a`）である正四角錐の高さは？
（※中学1年生には難しいですが、直感的な理解のために）

<details>
<summary>解答と解説</summary>

**解答:** `√2 a`

**Tips:**
断面図（直角三角形）を考える。
底面の対角線は `2√2 a`。その半分は `√2 a`。
斜辺は `2a`。
高さ `h` は `h^2 + (√2 a)^2 = (2a)^2`
`h^2 + 2a^2 = 4a^2`
`h^2 = 2a^2`
`h = √2 a`
</details>

### Q20. アルキメデスの発見
円柱の中に、その円柱にぴったり入る（内接する）球と、円錐を入れたとき、それぞれの体積比はどうなりますか。
（円錐 : 球 : 円柱）

<details>
<summary>解答と解説</summary>

**解答:** `1 : 2 : 3`

**Tips:**
円柱の半径 `r`、高さ `2r` とする。
円柱: `πr^2 × 2r = 2πr^3`
球: `4/3 πr^3`
円錐: `1/3 × πr^2 × 2r = 2/3 πr^3`
比をとると `2/3 : 4/3 : 2 = 1 : 2 : 3`。
美しい整数比になります。
</details>
