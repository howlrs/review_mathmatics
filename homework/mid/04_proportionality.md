# セッション4：比例と反比例 (7th Grade)

**対象:** Rust/Goプログラマのための数学超速習
**テーマ:** 関数、比例・反比例、座標、グラフ

---

## Phase 1: Foundational Check (基礎の確認) - 10問

**「関数」**: 数学の関数（Function）とプログラミングの関数は、「入力に対して一意の出力が決まる」という点で同じです。

### Q1. 関数の定義
変数 `x` の値を決めると、それに対応して `y` の値がただ一つに決まるとき、「`y` は `x` の（　　）である」といいます。（　）に入る言葉を答えなさい。

<details>
<summary>解答と解説</summary>

**解答:** 関数

**解説:**
英語では Function。

> **Programming Link:**
> *   **Pure Function:** 副作用がなく、同じ入力に対して常に同じ出力を返す関数（純粋関数）の概念そのものです。
</details>

### Q2. 比例の定義
`y` が `x` に比例するとき、`x` と `y` の関係を表す式はどのような形になりますか（比例定数を `a` とする）。

<details>
<summary>解答と解説</summary>

**解答:** `y = ax`

**解説:**
`x` が2倍、3倍になると、`y` も2倍、3倍になる関係。

> **Programming Link:**
> *   **Linear Complexity:** アルゴリズムの計算量 `O(n)` は、入力サイズ `n` に比例して処理時間が増えます。
</details>

### Q3. 反比例の定義
`y` が `x` に反比例するとき、`x` と `y` の関係を表す式はどのような形になりますか（比例定数を `a` とする）。

<details>
<summary>解答と解説</summary>

**解答:** `y = a/x` （または `xy = a`）

**解説:**
`x` が2倍、3倍になると、`y` は1/2倍、1/3倍になる関係。積 `xy` が一定。

> **Programming Link:**
> *   **Trade-off:** リソース（メモリと速度など）のトレードオフ関係によく現れます。「速度を2倍にするには、並列数を2倍にする（比例）」ではなく、「作業量一定で人数を2倍にすれば時間は半分（反比例）」など。
</details>

### Q4. 座標
点Pの座標が `(3, -2)` のとき、x座標とy座標をそれぞれ答えなさい。

<details>
<summary>解答と解説</summary>

**解答:** x座標: 3, y座標: -2

**解説:**
原点から右に3、下に2の位置。

> **Programming Link:**
> *   **Struct/Tuple:** `struct Point { x: i32, y: i32 }` やタプル `(3, -2)` で表現されるデータ構造です。
</details>

### Q5. 比例の式を求める
`y` は `x` に比例し、`x = 2` のとき `y = -6` です。`y` を `x` の式で表しなさい。

<details>
<summary>解答と解説</summary>

**解答:** `y = -3x`

**解説:**
`y = ax` に代入。
`-6 = 2a`
`a = -3`
</details>

### Q6. 反比例の式を求める
`y` は `x` に反比例し、`x = 4` のとき `y = 3` です。`y` を `x` の式で表しなさい。

<details>
<summary>解答と解説</summary>

**解答:** `y = 12/x`

**解説:**
`y = a/x` または `xy = a` を利用。
`a = 4 × 3 = 12`
</details>

### Q7. 変域
関数 `y = 2x` について、`x` の変域が `-1 ≦ x < 3` のとき、`y` の変域を求めなさい。

<details>
<summary>解答と解説</summary>

**解答:** `-2 ≦ y < 6`

**解説:**
端点の値を代入して確認。
`x = -1` → `y = -2`
`x = 3` → `y = 6`
不等号の種類（≦か＜か）に注意。

> **Programming Link:**
> *   **Range Check:** 配列のインデックス範囲や、入力バリデーションにおける境界値チェック（Boundary Check）です。
</details>

### Q8. 比例のグラフ
`y = 2x` のグラフはどのような形になりますか。

<details>
<summary>解答と解説</summary>

**解答:** 原点を通る右上がりの直線

**解説:**
比例のグラフは必ず原点 `(0, 0)` を通る直線。
</details>

### Q9. 反比例のグラフ
`y = 6/x` のグラフはどのような形になりますか。

<details>
<summary>解答と解説</summary>

**解答:** 双曲線（第一象限と第三象限にある）

**解説:**
x軸、y軸に限りなく近づくが交わらない曲線。
</details>

### Q10. 座標平面上の点
点A `(2, 3)` と点B `(2, -3)` は、何について対称ですか。

<details>
<summary>解答と解説</summary>

**解答:** x軸について対称

**解説:**
x座標が同じで、y座標の符号が逆。上下に反転している。
</details>

---

## Phase 2: Applied Mastery (応用と実践) - 10問

**「グラフはデータの可視化」**: 数式（ロジック）とグラフ（ビジュアル）を行き来する能力は、データの傾向を分析する際に不可欠です。

### Q11. グラフから式を求める（比例）
原点を通り、点 `(3, -2)` を通る直線の式を求めなさい。

<details>
<summary>解答と解説</summary>

**解答:** `y = -2/3 x`

**Tips:**
`y = ax` に代入。
`-2 = 3a`
`a = -2/3`
</details>

### Q12. グラフから式を求める（反比例）
点 `(2, 4)` を通る双曲線の式を求めなさい。

<details>
<summary>解答と解説</summary>

**解答:** `y = 8/x`

**Tips:**
`xy = a` を使うと早い。
`2 × 4 = 8` なので `a = 8`。
</details>

### Q13. 歯車の問題（反比例）
歯数30の歯車Aが毎分12回転しています。これにかみ合っている歯車Bの歯数が `x`、毎分の回転数が `y` のとき、`y` を `x` の式で表しなさい。

<details>
<summary>解答と解説</summary>

**解答:** `y = 360/x`

**Tips:**
かみ合う歯車の「1分間に送られる歯の総数」は等しい。
`30 × 12 = 360` （一定）
`x × y = 360`

> **Programming Link:**
> *   **Throughput:** システム全体の処理量（スループット）が一定の場合、バッチサイズ（歯数）と頻度（回転数）は反比例します。
</details>

### Q14. 速さとグラフ
家から1200m離れた駅まで歩きます。分速 `x` mで歩くときにかかる時間を `y` 分とします。
1. 式を表しなさい。
2. 分速80mのときにかかる時間は？

<details>
<summary>解答と解説</summary>

**解答:**
1. `y = 1200/x`
2. 15分

**Tips:**
`道のり = 速さ × 時間` → `1200 = xy`。
`y = 1200 / 80 = 15`。
</details>

### Q15. 動点と面積（関数の変化）
長方形ABCD（AB=4cm, BC=6cm）の辺上を、点PがBを出発してCまで毎秒1cmで動きます。
x秒後の三角形ABPの面積を `y` cm^2 とするとき、式と変域を求めなさい。

<details>
<summary>解答と解説</summary>

**解答:** `y = 2x` (`0 ≦ x ≦ 6`)

**Tips:**
底辺BP = `x` cm、高さAB = 4cm。
面積 `y = 1/2 × x × 4 = 2x`。
PはCまで動くので、xの最大値は6。

> **Programming Link:**
> *   **Animation:** 時間 `t` に応じてパラメータが変化するアニメーションのロジックです。
</details>

### Q16. グラフの交点
比例 `y = 2x` と 反比例 `y = 8/x` のグラフの交点の座標をすべて求めなさい。

<details>
<summary>解答と解説</summary>

**解答:** `(2, 4)` と `(-2, -4)`

**Tips:**
連立方程式として解く（代入法）。
`2x = 8/x`
`2x^2 = 8`
`x^2 = 4`
`x = ±2`
`x=2`のとき`y=4`、`x=-2`のとき`y=-4`。
</details>

### Q17. 水そうの問題
毎分3Lずつ水を入れると20分で満水になる水そうがあります。
毎分 `x` Lずつ水を入れると `y` 分で満水になるとするとき、式を求めなさい。

<details>
<summary>解答と解説</summary>

**解答:** `y = 60/x`

**Tips:**
水そうの容量 = `3 × 20 = 60` L。
`xy = 60`。
</details>

### Q18. 座標と面積
3点 O(0,0), A(4, 2), B(4, 0) を頂点とする三角形OABの面積を求めなさい。

<details>
<summary>解答と解説</summary>

**解答:** 4

**Tips:**
底辺OB = 4。
高さはAのy座標 = 2。
`4 × 2 ÷ 2 = 4`。
</details>

### Q19. グラフの利用（プラン比較）
携帯電話の料金プランA（基本料1000円 + 1分20円）とプランB（基本料2000円 + 1分10円）があります。
何分以上通話するとプランBの方が安くなりますか？

<details>
<summary>解答と解説</summary>

**解答:** 100分より多く通話する場合（101分以上）

**Tips:**
通話時間を `x` 分、料金を `y` 円とする。
A: `y = 20x + 1000`
B: `y = 10x + 2000`
交点を求める。
`20x + 1000 = 10x + 2000`
`10x = 1000`
`x = 100`
100分で同額。それ以上なら傾きの小さいBが安い。

> **Programming Link:**
> *   **Cost Analysis:** クラウドサービスの料金プラン比較（固定費 vs 従量課金）と同じ計算です。
</details>

### Q20. 比例・反比例の識別
次のうち、yがxに比例するもの、反比例するものを選びなさい。
1. 1辺がx cmの正方形の面積 y cm^2
2. 100kmの道のりを時速x kmで進むときにかかる時間 y 時間
3. 1冊100円のノートをx冊買った代金 y 円

<details>
<summary>解答と解説</summary>

**解答:**
比例: 3 (`y = 100x`)
反比例: 2 (`y = 100/x`)
どちらでもない: 1 (`y = x^2` → これは二次関数)

**Tips:**
式を立てて判定する。
</details>
