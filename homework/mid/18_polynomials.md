# セッション18：多項式・因数分解 (9th Grade)

**対象:** Rust/Goプログラマのための数学超速習
**テーマ:** 乗法公式、因数分解、式の展開

---

## Phase 1: Foundational Check (基礎の確認) - 10問

**「圧縮と展開」**: 因数分解（Factorization）は式の圧縮、展開（Expansion）は解凍です。両者は逆演算の関係にあります。

### Q1. 多項式の展開
`(x + a)(y + b)` を展開しなさい。

<details>
<summary>解答と解説</summary>

**解答:** `xy + xb + ay + ab`

**解説:**
それぞれの項を総当たりで掛ける。
</details>

### Q2. 乗法公式 (1)
`(x + a)(x + b)` を展開する公式は？

<details>
<summary>解答と解説</summary>

**解答:** `x^2 + (a + b)x + ab`

**解説:**
xの係数は「和」、定数項は「積」。
</details>

### Q3. 乗法公式 (2) 平方公式
`(x + a)^2` を展開する公式は？

<details>
<summary>解答と解説</summary>

**解答:** `x^2 + 2ax + a^2`

**解説:**
真ん中の `2ax` を忘れがちなので注意。
</details>

### Q4. 乗法公式 (3) 和と差の積
`(x + a)(x - a)` を展開する公式は？

<details>
<summary>解答と解説</summary>

**解答:** `x^2 - a^2`

**解説:**
真ん中の項が消える特別なパターン。
</details>

### Q5. 因数分解の定義
多項式を、いくつかの単項式や多項式の（　　）の形に表すことを、因数分解という。

<details>
<summary>解答と解説</summary>

**解答:** 積

**解説:**
`x^2 + 5x + 6` (和の形) → `(x + 2)(x + 3)` (積の形)。
方程式を解くための強力なツール。
</details>

### Q6. 共通因数
`ax + ay` を因数分解しなさい。

<details>
<summary>解答と解説</summary>

**解答:** `a(x + y)`

**解説:**
分配法則の逆。まず共通因数 `a` をくくり出すのが基本。

> **Programming Link:**
> *   **Refactoring:** 重複コードの抽出（Extract Method）と同じです。
</details>

### Q7. 乗法公式による因数分解 (1)
`x^2 + 5x + 6` を因数分解しなさい。

<details>
<summary>解答と解説</summary>

**解答:** `(x + 2)(x + 3)`

**解説:**
足して5、掛けて6になる2数を探す。
</details>

### Q8. 乗法公式による因数分解 (2)
`x^2 + 6x + 9` を因数分解しなさい。

<details>
<summary>解答と解説</summary>

**解答:** `(x + 3)^2`

**解説:**
平方公式の逆。
</details>

### Q9. 乗法公式による因数分解 (3)
`x^2 - 16` を因数分解しなさい。

<details>
<summary>解答と解説</summary>

**解答:** `(x + 4)(x - 4)`

**解説:**
二乗の差は和と差の積。
</details>

### Q10. 素数と因数分解
自然数を素数の積で表すことを何といいますか。

<details>
<summary>解答と解説</summary>

**解答:** 素因数分解

**解説:**
多項式の因数分解のアナロジー。
</details>

---

## Phase 2: Applied Mastery (応用と実践) - 10問

**「パターンマッチング」**: 式の形を見て、どの公式（パターン）が適用できるかを瞬時に判断する能力を養います。

### Q11. 複雑な展開
`(2x - 3y)^2` を展開しなさい。

<details>
<summary>解答と解説</summary>

**解答:** `4x^2 - 12xy + 9y^2`

**Tips:**
`A = 2x, B = -3y` とおいて `(A+B)^2` を適用。
`2AB = 2(2x)(-3y) = -12xy`。
</details>

### Q12. 置き換えによる展開
`(x + y + 2)(x + y - 2)` を展開しなさい。

<details>
<summary>解答と解説</summary>

**解答:** `x^2 + 2xy + y^2 - 4`

**Tips:**
`x + y = A` とおく。
`(A + 2)(A - 2) = A^2 - 4`
`= (x + y)^2 - 4`
`= x^2 + 2xy + y^2 - 4`。

> **Programming Link:**
> *   **Variable Substitution:** 一時変数を使って複雑な式を簡略化するテクニックです。
</details>

### Q13. 係数がある因数分解
`3x^2 - 12` を因数分解しなさい。

<details>
<summary>解答と解説</summary>

**解答:** `3(x + 2)(x - 2)`

**Tips:**
まず共通因数 `3` でくくる。
`3(x^2 - 4)`。
それから公式適用。
いきなり公式を使おうとしないこと。
</details>

### Q14. 置き換えによる因数分解
`(x + 3)^2 - 4(x + 3) + 4` を因数分解しなさい。

<details>
<summary>解答と解説</summary>

**解答:** `(x + 1)^2`

**Tips:**
`x + 3 = A` とおく。
`A^2 - 4A + 4 = (A - 2)^2`。
元に戻す: `(x + 3 - 2)^2 = (x + 1)^2`。
</details>

### Q15. 因数分解の工夫（組み合わせ）
`xy - x + y - 1` を因数分解しなさい。

<details>
<summary>解答と解説</summary>

**解答:** `(x + 1)(y - 1)`

**Tips:**
項をグループ分けする。
`x(y - 1) + (y - 1)`
共通因数 `(y - 1)` が見つかる。
`(y - 1)(x + 1)`。
</details>

### Q16. 式の計算への利用
`102 × 98` を工夫して計算しなさい。

<details>
<summary>解答と解説</summary>

**解答:** 9996

**Tips:**
`(100 + 2)(100 - 2) = 100^2 - 2^2`
`= 10000 - 4 = 9996`。
</details>

### Q17. 式の値への利用
`x = 198` のとき、`x^2 + 4x + 4` の値を求めなさい。

<details>
<summary>解答と解説</summary>

**解答:** 40000

**Tips:**
因数分解すると `(x + 2)^2`。
`(198 + 2)^2 = 200^2 = 40000`。
</details>

### Q18. 証明への利用
「連続する2つの奇数の積に1を足すと、偶数の2乗になる」ことを証明しなさい。

<details>
<summary>解答と解説</summary>

**解答:**
連続する奇数は `2n - 1, 2n + 1` と表せる。
積に1を足すと `(2n - 1)(2n + 1) + 1`
`= 4n^2 - 1 + 1`
`= 4n^2`
`= (2n)^2`
`2n` は偶数なので、偶数の2乗である。
</details>

### Q19. 面積と因数分解
半径 `R` の円形の花壇の中に、半径 `r` の円形の池があります。花壇（池を除く部分）の面積を `S` とします。
花壇の真ん中を通る円周の長さを `l` とするとき、`S = al` （`a`は花壇の幅）となることを証明しなさい。
（※ `a = R - r`, `l = 2π(R+r)/2`）

<details>
<summary>解答と解説</summary>

**解答:**
`S = πR^2 - πr^2 = π(R^2 - r^2) = π(R+r)(R-r)`。
`a = R - r`。
`l = 2π × (R+r)/2 = π(R+r)`。
よって `al = (R-r) × π(R+r) = S`。

**Tips:**
因数分解 `R^2 - r^2 = (R+r)(R-r)` が鍵。
</details>

### Q20. たすき掛け（予習）
`2x^2 + 5x + 3` を因数分解しなさい。
（高校範囲ですが、プログラマならアルゴリズムとして理解可能）

<details>
<summary>解答と解説</summary>

**解答:** `(2x + 3)(x + 1)`

**Tips:**
掛けて2になる組み合わせ (1, 2)
掛けて3になる組み合わせ (1, 3) or (3, 1)
クロスして足して5になるものを探す。
`1 * 3 + 2 * 1 = 5` (OK)。
</details>
