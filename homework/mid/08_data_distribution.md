# セッション8：データの分布 (7th Grade)

**対象:** Rust/Goプログラマのための数学超速習
**テーマ:** ヒストグラム、代表値（平均値・中央値・最頻値）、相対度数

---

## Phase 1: Foundational Check (基礎の確認) - 10問

**「データ分析の基礎」**: 統計学（Statistics）の第一歩です。大量のデータを要約し、傾向を掴むための指標を学びます。

### Q1. 度数分布表
データをいくつかの区間に分けたとき、その区間を何といいますか。

<details>
<summary>解答と解説</summary>

**解答:** 階級 (Class)

**解説:**
区間の幅を「階級の幅」という。

> **Programming Link:**
> *   **Binning:** データをバケット（Bin）に分類する処理です。ヒストグラム作成の前処理として行われます。
</details>

### Q2. 度数
各階級に入っているデータの個数を何といいますか。

<details>
<summary>解答と解説</summary>

**解答:** 度数 (Frequency)

**解説:**
頻度ともいう。
</details>

### Q3. ヒストグラム
度数分布表を棒グラフ状に表したものを何といいますか。

<details>
<summary>解答と解説</summary>

**解答:** ヒストグラム (Histogram)

**解説:**
柱状グラフ。横軸に階級、縦軸に度数をとる。
</details>

### Q4. 平均値
データの総和をデータの個数で割った値を何といいますか。

<details>
<summary>解答と解説</summary>

**解答:** 平均値 (Mean / Average)

**解説:**
最も一般的な代表値だが、外れ値（Outlier）の影響を受けやすい。
</details>

### Q5. 中央値
データを大きさの順に並べたとき、中央にくる値を何といいますか。

<details>
<summary>解答と解説</summary>

**解答:** 中央値 (Median)

**解説:**
データの個数が偶数の場合は、中央の2つの値の平均をとる。外れ値に強い（Robust）。

> **Programming Link:**
> *   **Sorting:** 中央値を求めるには、まずソート（`O(n log n)`）が必要です（選択アルゴリズムを使えば `O(n)` も可能）。
</details>

### Q6. 最頻値
データの中で最も多く現れる値を何といいますか。

<details>
<summary>解答と解説</summary>

**解答:** 最頻値 (Mode)

**解説:**
度数分布表では、度数が最も大きい階級の「階級値」を指すことが多い。
</details>

### Q7. 範囲
データの最大値から最小値を引いた値を何といいますか。

<details>
<summary>解答と解説</summary>

**解答:** 範囲 (Range)

**解説:**
データの散らばりの程度を表す最も単純な指標。
</details>

### Q8. 相対度数
全体の度数に対する、各階級の度数の割合を何といいますか。

<details>
<summary>解答と解説</summary>

**解答:** 相対度数 (Relative Frequency)

**解説:**
`その階級の度数 / 全体の度数`。
合計すると必ず1になる。

> **Programming Link:**
> *   **Normalization:** データの総数が異なるデータセット同士を比較するために、合計が1になるように正規化（確率分布化）する処理です。
</details>

### Q9. 階級値
階級の中央の値を何といいますか。

<details>
<summary>解答と解説</summary>

**解答:** 階級値

**解説:**
「10以上20未満」の階級値は `(10+20)/2 = 15`。
度数分布表から平均値を計算する際に、その階級のデータはすべて階級値であると仮定して計算する（近似）。
</details>

### Q10. 近似値と有効数字
測定値などが真の値に近いとき、その値を何といいますか。また、信頼できる数字の桁数を何といいますか。

<details>
<summary>解答と解説</summary>

**解答:** 近似値、有効数字

**解説:**
`1.20` と書いた場合、有効数字は3桁（1/100の位まで測定したという意味）。

> **Programming Link:**
> *   **Precision:** 浮動小数点数の精度（単精度 vs 倍精度）や、有効桁数の概念です。
</details>

---

## Phase 2: Applied Mastery (応用と実践) - 10問

**「データは嘘をつかないが、見せ方は嘘をつく」**: 統計指標の意味を正しく理解し、データの特性に合わせて適切な指標を選ぶ能力が重要です。

### Q11. 平均値の計算
次のデータの平均値を求めなさい。
`4, 8, 5, 9, 4`

<details>
<summary>解答と解説</summary>

**解答:** 6

**Tips:**
合計: `30`
個数: `5`
平均: `30 / 5 = 6`
</details>

### Q12. 中央値の計算（偶数個）
次のデータの中央値を求めなさい。
`2, 8, 3, 5, 1, 9`

<details>
<summary>解答と解説</summary>

**解答:** 4

**Tips:**
ソートする: `1, 2, 3, 5, 8, 9`
中央の2つは `3` と `5`。
その平均: `(3 + 5) / 2 = 4`
</details>

### Q13. 代表値の使い分け
「あるクラスのテスト結果で、平均点は60点だが、60点以上の生徒は全体の1割しかいなかった」。
このようなことが起こる原因として考えられる分布の特徴は？

<details>
<summary>解答と解説</summary>

**解答:** 極端に点数が高い生徒（外れ値）が少数いて、平均を引き上げている。または分布が右に裾を引いている（歪んでいる）。

**Tips:**
この場合、平均値は集団の実態（多くの生徒は60点未満）を表していません。中央値や最頻値を見るべきです。

> **Programming Link:**
> *   **Latency:** システムのレイテンシ計測において、平均値（Mean）だけでなく、95パーセンタイル（P95）や99パーセンタイル（P99）を見るべき理由と同じです。
</details>

### Q14. 度数分布表からの平均値
ある階級（階級値 `x`）の度数が `f` であるとき、この階級のデータの合計はおよそいくらと見積もれますか。

<details>
<summary>解答と解説</summary>

**解答:** `x × f`

**Tips:**
全てのデータが階級値 `x` であると仮定する（重心とみなす）。
全体の平均値は `Σ(xf) / Σf` で求める。
</details>

### Q15. 相対度数の利用
A中学校（200人）とB中学校（300人）で、通学時間が30分以上の生徒の割合を比較するには、何を比べればよいですか。

<details>
<summary>解答と解説</summary>

**解答:** 相対度数

**Tips:**
人数（度数）で比べると母数が違うので不公平。割合（相対度数）で比較する。
</details>

### Q16. 累積相対度数
「通学時間が30分未満の生徒の割合」を知りたいとき、度数分布表のどの列を見ると便利ですか。

<details>
<summary>解答と解説</summary>

**解答:** 累積相対度数

**Tips:**
最初の階級からその階級までの相対度数を足し合わせたもの。

> **Programming Link:**
> *   **CDF (Cumulative Distribution Function):** 累積分布関数です。確率 `P(X < x)` を表します。
</details>

### Q17. 有効数字の表現
ある距離の測定値が `1230m` で、有効数字が3桁（十の位まで信用できる）であるとき、整数部分が1桁の小数と10の累乗の積を使って表しなさい。

<details>
<summary>解答と解説</summary>

**解答:** `1.23 × 10^3` m

**Tips:**
`1.230` なら4桁、`1.2` なら2桁。
`1230` と書くと、0が有効数字なのか単なる位取りなのか曖昧になるため、科学的表記法（Scientific Notation）を使う。

> **Programming Link:**
> *   **Floating Point Representation:** IEEE 754における仮数部（Mantissa）と指数部（Exponent）の表現形式です。
</details>

### Q18. 真の値の範囲
測定値 `a = 2.5` （小数第2位を四捨五入したもの）のとき、真の値 `A` の範囲を不等号を使って表しなさい。

<details>
<summary>解答と解説</summary>

**解答:** `2.45 ≦ A < 2.55`

**Tips:**
四捨五入して2.5になる最小の値は2.45。
最大の値は2.55未満（2.55は2.6になる）。
誤差の絶対値は最大で `0.05`。

> **Programming Link:**
> *   **Quantization Error:** 量子化誤差。アナログ値をデジタル値に変換する際に生じる丸め誤差です。
</details>

### Q19. メジアンの性質
データ `1, 3, 5, 100` に、新しいデータ `x` を加えたとき、中央値が `3` になるような `x` の範囲を求めなさい。

<details>
<summary>解答と解説</summary>

**解答:** `x ≦ 3`

**Tips:**
データは5個になるので、小さい方から3番目が中央値。
`x` が3以下なら、順序は `x, 1, 3, 5, 100`（または `1, x, 3...`）となり、3番目は `3`。
`x` が3より大きいと、3番目は `x` か `5` になってしまう。
</details>

### Q20. データの活用（PPDACサイクル）
統計的な問題解決のプロセス PPDAC とは何の略ですか。
（Problem, Plan, Data, Analysis, Conclusion）
このうち、プログラマが最も貢献できる（自動化できる）フェーズはどこですか？

<details>
<summary>解答と解説</summary>

**解答:** Data（収集・整理）と Analysis（分析・可視化）

**Tips:**
しかし、**Problem（問いの設定）** と **Conclusion（結論の導出）** こそが人間の役割であり、最も重要な部分です。
「計算はコンピュータに任せ、人間は意味を考える」のが現代の数学（とデータサイエンス）の在り方です。
</details>
