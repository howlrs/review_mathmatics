# セッション2：文字を用いた式 (7th Grade)

**対象:** Rust/Goプログラマのための数学超速習
**テーマ:** 文字式、代入、式の計算、等式・不等式の表現

---

## Phase 1: Foundational Check (基礎の確認) - 10問

**「定義の確認」**: 数学における「変数」とプログラミングにおける「変数」の微妙な違い（不変量としての性質など）を意識しましょう。

### Q1. 文字式のルール
次の式を、文字式の表し方の決まり（×や÷を省く、数字は前など）に従って書き直しなさい。
`a × (-1) × b`

<details>
<summary>解答と解説</summary>

**解答:** `-ab`

**解説:**
*   `1` や `-1` の `1` は省略する。
*   アルファベット順にするのが一般的。

> **Programming Link:**
> *   **Syntax Sugar:** 言語仕様（Syntax）に従ってコードを簡潔に書くことに似ています。`x = x + 1` を `x++` や `x += 1` と書くようなものです。
</details>

### Q2. 累乗の指数
次の式を指数を使って表しなさい。
`x × x × y × x`

<details>
<summary>解答と解説</summary>

**解答:** `x^3 y`

**解説:**
同じ文字の積は指数を使って表す。

> **Programming Link:**
> *   **Compression:** データの圧縮表現です。`Run-Length Encoding` のように、繰り返される要素を短く表現します。
</details>

### Q3. 代入と式の値
`x = -3` のとき、`5 - 2x` の値を求めなさい。

<details>
<summary>解答と解説</summary>

**解答:** `11`

**解説:**
`5 - 2 × (-3) = 5 - (-6) = 5 + 6 = 11`

> **Programming Link:**
> *   **Evaluation:** 変数に値をバインドして式を評価（Evaluate）するプロセスです。
> *   `let x = -3; let result = 5 - 2 * x;`
</details>

### Q4. 項と係数
式 `3a - b + 5` の項をすべて答え、文字を含む項の係数をいいなさい。

<details>
<summary>解答と解説</summary>

**解答:**
項: `3a`, `-b`, `5`
`3a`の係数: `3`
`-b`の係数: `-1`

**解説:**
加法だけの式 `3a + (-b) + 5` に直したときの、それぞれの要素が「項」。

> **Programming Link:**
> *   **Parsing:** コンパイラが式を解析（Parse）してAST（抽象構文木）を作る際、演算子で区切られた要素を認識するプロセスです。
</details>

### Q5. 一次式の加法
`(2x - 5) + (3x + 4)` を計算しなさい。

<details>
<summary>解答と解説</summary>

**解答:** `5x - 1`

**解説:**
同類項（文字の部分が同じ項）をまとめる。
`(2+3)x + (-5+4) = 5x - 1`

> **Programming Link:**
> *   **Optimization:** コンパイラの定数畳み込み（Constant Folding）や、同じ変数の演算をまとめる最適化に似ています。
</details>

### Q6. 一次式の減法
`(4a - 3) - (2a - 6)` を計算しなさい。

<details>
<summary>解答と解説</summary>

**解答:** `2a + 3`

**解説:**
引く式の符号を変えて足す。
`4a - 3 - 2a + 6 = 2a + 3`
</details>

### Q7. 乗法（数と式）
`3(2x - 4)` を計算しなさい。

<details>
<summary>解答と解説</summary>

**解答:** `6x - 12`

**解説:**
分配法則を使う。

> **Programming Link:**
> *   **Map:** 配列の各要素に同じ操作を適用する（`map`関数）イメージです。`[2x, -4].map(|v| v * 3)`。
</details>

### Q8. 除法（数と式）
`(12x - 8) ÷ 4` を計算しなさい。

<details>
<summary>解答と解説</summary>

**解答:** `3x - 2`

**解説:**
すべての項を4で割る。または `× 1/4` を分配する。
</details>

### Q9. 関係を表す式（等式）
「xの3倍に5を足すとyになる」という関係を等式で表しなさい。

<details>
<summary>解答と解説</summary>

**解答:** `3x + 5 = y`

**解説:**
日本語の文章を数式に翻訳する。

> **Programming Link:**
> *   **Assignment:** プログラミングの代入文 `y = 3*x + 5` と同じ構造ですが、数学の等式は「左右が釣り合っている状態（Constraint）」を表します。
</details>

### Q10. 関係を表す式（不等式）
「a個のアメをb人の子供に3個ずつ配ると余る」という関係を不等式で表しなさい。

<details>
<summary>解答と解説</summary>

**解答:** `a > 3b`

**解説:**
配るアメの総数 `3b` よりも、元のアメの数 `a` の方が多い。
`a - 3b > 0` でも正解。

> **Programming Link:**
> *   **Assertion:** プログラムの前提条件チェック（`assert(a > 3*b)`）やバリデーションロジックです。
</details>

---

## Phase 2: Applied Mastery (応用と実践) - 10問

**「迷ったら『具体例』で実験せよ」**: 文字式が抽象的でわかりにくいときは、具体的な数字（x=1, x=2など）を入れて挙動を確認しましょう。

### Q11. 単位の変換
x km の道のりと、y m の道のりの合計は何mですか。

<details>
<summary>解答と解説</summary>

**解答:** `(1000x + y) m`

**Tips:**
単位を揃えないと加算できません。
1km = 1000m なので、x km = 1000x m。

> **Programming Link:**
> *   **Type Casting:** 異なる型（単位）同士の演算はできません。明示的なキャスト（変換）が必要です。
</details>

### Q12. 割合の表現
定価 a 円の品物を 2割引き で買ったときの代金を表す式を書きなさい。

<details>
<summary>解答と解説</summary>

**解答:** `0.8a` 円 （または `4/5 a` 円）

**Tips:**
2割引き = 8割の価格。
`a × (1 - 0.2) = 0.8a`

> **Programming Link:**
> *   **Floating Point:** `0.8` は浮動小数点数。正確な金額計算には、整数で扱って最後に割るなどの工夫（固定小数点）が実務では必要です。
</details>

### Q13. 平均の逆算
男子3人の平均点が a 点、女子4人の平均点が b 点のとき、クラス全体の平均点を表す式を書きなさい。

<details>
<summary>解答と解説</summary>

**解答:** `(3a + 4b) / 7` 点

**Tips:**
平均 = 合計 / 人数。
男子合計: `3a`
女子合計: `4b`
全体合計: `3a + 4b`
全体人数: `3 + 4 = 7`
</details>

### Q14. 規則性と文字式
マッチ棒を使って正方形を横につなげていきます。
正方形を x 個作るのに必要なマッチ棒の本数を表す式を求めなさい。
（正方形1個: 4本, 2個: 7本, 3個: 10本...）

<details>
<summary>解答と解説</summary>

**解答:** `3x + 1` 本

**Tips:**
最初の1本に、正方形が増えるごとに「コ」の字型（3本）が追加されると考えます。
`1 + 3 × x`
または、4本から始まって、2個目以降は3本ずつ増える: `4 + 3(x-1) = 3x + 1`

> **Programming Link:**
> *   **Algorithm Design:** ループ処理の設計です。初期値（Initial Value）と増分（Step）を見極めます。
</details>

### Q15. 整数の性質
2桁の自然数の「十の位の数を x、一の位の数を y」とするとき、この自然数を表す式を書きなさい。

<details>
<summary>解答と解説</summary>

**解答:** `10x + y`

**Tips:**
例: 53 は `5 × 10 + 3`。
`xy` と書くと `x × y` になってしまうので注意。

> **Programming Link:**
> *   **Positional Notation:** 位取り記数法の原理です。文字列としての "53" を数値にパースするロジック `digit1 * 10 + digit2` と同じです。
</details>

### Q16. 等式の変形（基本）
`y = 3x + 5` を x について解きなさい（x = ... の形にする）。

<details>
<summary>解答と解説</summary>

**解答:** `x = (y - 5) / 3`

**Tips:**
逆算の順序: 足し算を引く → 掛け算を割る。
1. `3x = y - 5`
2. `x = (y - 5) / 3`

> **Programming Link:**
> *   **Inverse Function:** 関数の逆関数を求める操作です。入力から出力を求めるのが元の式、出力から入力を復元するのがこの変形です。
</details>

### Q17. 速さ・時間・道のり
道のり x km を 時速 4km で歩いたときにかかる時間を表す式を書きなさい。

<details>
<summary>解答と解説</summary>

**解答:** `x / 4` 時間

**Tips:**
時間 = 道のり ÷ 速さ。
単位（km, 時間）を確認すること。
</details>

### Q18. 不等式の文章題
「1本 a 円の鉛筆を5本と、1個 b 円の消しゴムを2個買って 1000円札を出したら、おつりがあった」
この数量の関係を不等式で表しなさい。

<details>
<summary>解答と解説</summary>

**解答:** `5a + 2b < 1000`

**Tips:**
「おつりがあった」 = 「代金の合計が1000円未満だった」。
`1000 - (5a + 2b) > 0` でも正解。

> **Programming Link:**
> *   **Budget Check:** リソース（メモリ、予算）内に収まっているかのチェックです。
</details>

### Q19. 項の組み合わせ
項の数が最も少なくなるように式を簡単にしなさい。
`1/2 (4x - 6) - 1/3 (9x - 12)`

<details>
<summary>解答と解説</summary>

**解答:** `-x + 1`

**Tips:**
分配法則で括弧を外してから計算します。
`2x - 3 - (3x - 4)`
`= 2x - 3 - 3x + 4`
`= -x + 1`
符号のミス（特に `- (-4)`）に注意。
</details>

### Q20. 複雑な式の値
`x = 3, y = -2` のとき、`3(2x - 4y) - 4(x - 3y)` の値を求めなさい。

<details>
<summary>解答と解説</summary>

**解答:** `6`

**Tips:**
**「複雑な問題は『素因数分解』せよ」**。
いきなり代入せず、まず式を簡単に（リファクタリング）してから代入します。
1. 展開: `6x - 12y - 4x + 12y`
2. 整理: `2x` （yの項が消えた！）
3. 代入: `2 × 3 = 6`

> **Programming Link:**
> *   **Refactoring before Execution:** 実行前にコードを最適化することで、計算コストを劇的に減らせる例です。yの値に関わらず結果が決まることに気づけます。
</details>
