# セッション20：二次方程式II (9th Grade)

**対象:** Rust/Goプログラマのための数学超速習
**テーマ:** 解の公式、平方完成、解の種類の判別

---

## Phase 1: Foundational Check (基礎の確認) - 10問

**「汎用アルゴリズム」**: 因数分解できない方程式も、「解の公式」という汎用的なアルゴリズムを使えば必ず解けます。

### Q1. 平方完成 (1)
`x^2 + 6x = (x + ?)^2 - ?` の `?` を埋めなさい。

<details>
<summary>解答と解説</summary>

**解答:** `3`, `9`

**解説:**
`x` の係数 `6` の半分 `3` を使う。
`(x + 3)^2 = x^2 + 6x + 9` なので、`9` を引いて調整する。
`x^2 + 6x = (x + 3)^2 - 9`。

> **Programming Link:**
> *   **Canonicalization:** 式を標準形（頂点形式）に変形する操作です。
</details>

### Q2. 平方完成による解法
`x^2 + 4x - 1 = 0` を平方完成を使って解きなさい。

<details>
<summary>解答と解説</summary>

**解答:** `x = -2 ± √5`

**解説:**
`x^2 + 4x = 1`
`(x + 2)^2 - 4 = 1`
`(x + 2)^2 = 5`
`x + 2 = ±√5`
`x = -2 ± √5`。
</details>

### Q3. 解の公式
二次方程式 `ax^2 + bx + c = 0` の解の公式を書きなさい。

<details>
<summary>解答と解説</summary>

**解答:** `x = (-b ± √(b^2 - 4ac)) / 2a`

**解説:**
平方完成を一般化して導出された公式。
これを実装すれば、どんな二次方程式も解ける（Solver）。
</details>

### Q4. 解の公式の利用 (1)
`2x^2 + 5x + 1 = 0` を解きなさい。

<details>
<summary>解答と解説</summary>

**解答:** `x = (-5 ± √17) / 4`

**解説:**
`a=2, b=5, c=1`。
`b^2 - 4ac = 25 - 8 = 17`。
</details>

### Q5. 解の公式の利用 (2)
`x^2 - 3x - 2 = 0` を解きなさい。

<details>
<summary>解答と解説</summary>

**解答:** `x = (3 ± √17) / 2`

**解説:**
`a=1, b=-3, c=-2`。
`b^2 - 4ac = 9 - (-8) = 17`。
</details>

### Q6. 偶数公式（予習）
`x` の係数が偶数 `2b'` のときの解の公式は？
`ax^2 + 2b'x + c = 0`

<details>
<summary>解答と解説</summary>

**解答:** `x = (-b' ± √(b'^2 - ac)) / a`

**解説:**
計算が少し楽になる最適化バージョン。
</details>

### Q7. 判別式
解の公式のルートの中身 `D = b^2 - 4ac` を何といいますか。

<details>
<summary>解答と解説</summary>

**解答:** 判別式 (Discriminant)

**解説:**
解の個数や種類を判別する。

> **Programming Link:**
> *   **Flag/Status:** 解の状態（2個、1個、なし）を表すステータスコードのようなものです。
</details>

### Q8. 解の個数と判別式
`D > 0` のとき、解はいくつありますか。

<details>
<summary>解答と解説</summary>

**解答:** 2つ（異なる2つの実数解）

**解説:**
`±√D` が存在するから。
</details>

### Q9. 解の個数と判別式 (2)
`D = 0` のとき、解はいくつありますか。

<details>
<summary>解答と解説</summary>

**解答:** 1つ（重解）

**解説:**
`±0` は同じなので。
</details>

### Q10. 解の個数と判別式 (3)
`D < 0` のとき、解はいくつありますか（中学範囲で）。

<details>
<summary>解答と解説</summary>

**解答:** なし（実数解なし）

**解説:**
ルートの中がマイナスになる実数は存在しない。
（高校数学では虚数解2つ）

> **Programming Link:**
> *   **NaN / Exception:** 実数演算ライブラリで負の平方根を求めると `NaN` や例外が発生します。
</details>

---

## Phase 2: Applied Mastery (応用と実践) - 10問

**「数値計算」**: 解の公式はコンピュータで数値解を求める際の基本アルゴリズムですが、桁落ちなどの誤差に注意が必要です（今回は数学的な厳密解を扱います）。

### Q11. 複雑な方程式
`(x - 1)(x + 2) = 2x + 5` を解きなさい。

<details>
<summary>解答と解説</summary>

**解答:** `x = (1 ± √29) / 2`

**Tips:**
展開して整理する。
`x^2 + x - 2 = 2x + 5`
`x^2 - x - 7 = 0`
解の公式: `(1 ± √(1 + 28)) / 2`。
</details>

### Q12. 分数を含む方程式
`1/2 x^2 - 1/3 x - 1/6 = 0` を解きなさい。

<details>
<summary>解答と解説</summary>

**解答:** `x = 1, -1/3`

**Tips:**
両辺を6倍して整数係数にする。
`3x^2 - 2x - 1 = 0`
因数分解 `(3x + 1)(x - 1) = 0`。
解の公式でも可。
</details>

### Q13. 解の公式の適用判断
`x^2 + 6x + 4 = 0` を解くとき、因数分解、平方完成、解の公式のどれが速いですか。

<details>
<summary>解答と解説</summary>

**解答:** 平方完成（または偶数公式）

**Tips:**
`x` の係数が偶数なので平方完成が楽。
`(x + 3)^2 - 9 + 4 = 0`
`(x + 3)^2 = 5`
`x = -3 ± √5`。
</details>

### Q14. 解の比
`x^2 - kx + 8 = 0` の一つの解が他方の解の2倍であるとき、`k` の値を求めなさい。

<details>
<summary>解答と解説</summary>

**解答:** `k = ±6`

**Tips:**
解を `α, 2α` とおく。
解と係数の関係より:
`α + 2α = k` → `3α = k`
`α × 2α = 8` → `2α^2 = 8` → `α^2 = 4` → `α = ±2`
`k = 3(±2) = ±6`。
</details>

### Q15. 黄金比の方程式
`x^2 - x - 1 = 0` の正の解を求めなさい。

<details>
<summary>解答と解説</summary>

**解答:** `(1 + √5) / 2`

**Tips:**
これが黄金比 `φ`。
`1 : x = x : (x+1)` （全体と部分の比が等しい）から導かれる。
</details>

### Q16. 共通解
2つの方程式 `x^2 + ax + 2 = 0` と `x^2 + 2x + a = 0` が共通の解を持つとき、`a` の値を求めなさい。

<details>
<summary>解答と解説</summary>

**解答:** `a = 2, -3`

**Tips:**
共通解を `α` とする。
`α^2 + aα + 2 = 0` ... (1)
`α^2 + 2α + a = 0` ... (2)
(1)-(2): `(a-2)α + 2-a = 0`
`(a-2)(α-1) = 0`
よって `a=2` または `α=1`。
`a=2` のとき2式は同じになり共通解を持つ。
`α=1` のとき `1 + a + 2 = 0` → `a = -3`。
</details>

### Q17. グラフとの関連（予習）
二次関数 `y = ax^2 + bx + c` のグラフがx軸と接するとき、判別式 `D` はどうなりますか。

<details>
<summary>解答と解説</summary>

**解答:** `D = 0`

**Tips:**
x軸との交点は `y=0` の解。接するということは解が1つ（重解）。
</details>

### Q18. 面積の最大化
周囲の長さが20cmの長方形の面積を `S` とします。`S` が最大になるときの長方形の形は？

<details>
<summary>解答と解説</summary>

**解答:** 正方形（一辺5cm）

**Tips:**
縦 `x`、横 `10-x`。
`S = x(10-x) = -x^2 + 10x`。
平方完成: `-(x-5)^2 + 25`。
`x=5` で最大値25。
</details>

### Q19. 解の近似値
`x^2 - 2 = 0` の解 `√2` を、ニュートン法などのアルゴリズムで求めるとき、どのような漸化式を使いますか（概念のみ）。

<details>
<summary>解答と解説</summary>

**解答:** 接線を使って解に近づく。

**Tips:**
`x_{n+1} = x_n - f(x_n)/f'(x_n)`。
`x_{n+1} = (x_n + 2/x_n) / 2`。
コンピュータで平方根を計算する際の実際のアルゴリズムです。
</details>

### Q20. 二次方程式の作成
解が `3, -5` であるような二次方程式（`x^2`の係数が1）を作りなさい。

<details>
<summary>解答と解説</summary>

**解答:** `x^2 + 2x - 15 = 0`

**Tips:**
`(x - 3)(x + 5) = 0` を展開する。
</details>
