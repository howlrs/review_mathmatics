# セッション9：式の計算 (8th Grade)

**対象:** Rust/Goプログラマのための数学超速習
**テーマ:** 多項式の加減乗除、式の値、等式の変形

---

## Phase 1: Foundational Check (基礎の確認) - 10問

**「型と構造」**: 単項式と多項式の違いは、プリミティブ型と複合型（Struct/Array）の違いに似ています。

### Q1. 単項式と多項式
次の式のうち、多項式であるものを選びなさい。
(a) `3xy`, (b) `x + 2y`, (c) `-5`, (d) `a^2 - b`

<details>
<summary>解答と解説</summary>

**解答:** (b), (d)

**解説:**
*   **単項式 (Monomial):** 数や文字の乗法だけで作られた式（(a), (c)）。
*   **多項式 (Polynomial):** 単項式の和で表される式。

> **Programming Link:**
> *   **Data Structure:** 単項式は `Scalar` や `Product`、多項式は `Sum` (List of Terms) というデータ構造で表現できます。
</details>

### Q2. 次数
多項式 `3x^2y + 4x - 5` の次数は何次ですか。

<details>
<summary>解答と解説</summary>

**解答:** 3次

**解説:**
各項の中で最も次数の高い項の次数が、その多項式の次数。
`3x^2y` は `x`が2個、`y`が1個で計3次。

> **Programming Link:**
> *   **Complexity:** アルゴリズムの計算量オーダー `O(n^3)` の決定要因（最高次の項）と同じ考え方です。
</details>

### Q3. 同類項
次の中から同類項のペアを選びなさい。
`3x, 2y, -5x, x^2, 4xy, 3y`

<details>
<summary>解答と解説</summary>

**解答:** (`3x`, `-5x`) と (`2y`, `3y`)

**解説:**
文字の部分が全く同じ項。係数は違ってもよい。
</details>

### Q4. 多項式の加法
`(2a - 3b) + (a + 4b)` を計算しなさい。

<details>
<summary>解答と解説</summary>

**解答:** `3a + b`

**解説:**
同類項をまとめる。
</details>

### Q5. 多項式の減法
`(3x^2 - x) - (x^2 - 2x)` を計算しなさい。

<details>
<summary>解答と解説</summary>

**解答:** `2x^2 + x`

**解説:**
符号を変えて足す。
`3x^2 - x - x^2 + 2x`
</details>

### Q6. 単項式×単項式
`(-3a) × 4b` を計算しなさい。

<details>
<summary>解答と解説</summary>

**解答:** `-12ab`

**解説:**
係数同士、文字同士を掛ける。
</details>

### Q7. 単項式の除法
`12xy ÷ (-4x)` を計算しなさい。

<details>
<summary>解答と解説</summary>

**解答:** `-3y`

**解説:**
分数にして約分する。
`12xy / -4x = -3y`
</details>

### Q8. 多項式×数（分配法則）
`3(2x - y + 4)` を計算しなさい。

<details>
<summary>解答と解説</summary>

**解答:** `6x - 3y + 12`

**解説:**
すべての項に3を掛ける。

> **Programming Link:**
> *   **Broadcast:** ベクトル演算におけるブロードキャスト（スカラー倍）です。
</details>

### Q9. 多項式÷数
`(10a - 15b) ÷ 5` を計算しなさい。

<details>
<summary>解答と解説</summary>

**解答:** `2a - 3b`

**解説:**
すべての項を5で割る。
</details>

### Q10. 分数を含む式の計算
`(x + y)/2 + (x - y)/3` を計算しなさい。

<details>
<summary>解答と解説</summary>

**解答:** `(5x + y) / 6`

**解説:**
通分する。
`3(x+y)/6 + 2(x-y)/6`
`= (3x + 3y + 2x - 2y) / 6`
`= (5x + y) / 6`
</details>

---

## Phase 2: Applied Mastery (応用と実践) - 10問

**「アルゴリズムの最適化」**: 式の変形（Refactoring）を行うことで、計算コストを下げたり、性質を見抜きやすくしたりします。

### Q11. 式の値（代入前の整理）
`x = 3, y = -2` のとき、`3(2x - 4y) - 2(x - 5y)` の値を求めなさい。

<details>
<summary>解答と解説</summary>

**解答:** `16`

**Tips:**
まず式を簡単にする。
`6x - 12y - 2x + 10y`
`= 4x - 2y`
代入: `4(3) - 2(-2) = 12 + 4 = 16`
</details>

### Q12. 等式の変形 (1)
`2x + 3y = 6` を `y` について解きなさい。

<details>
<summary>解答と解説</summary>

**解答:** `y = -2/3 x + 2` （または `y = (6 - 2x) / 3`）

**Tips:**
`3y = 6 - 2x`
`y = 2 - 2/3 x`

> **Programming Link:**
> *   **Data Transformation:** データを別の視点（y軸）から見るための変換です。一次関数の形 `y = ax + b` に直す操作でもあります。
</details>

### Q13. 等式の変形 (2)
`S = 1/2 ah` を `h` について解きなさい（三角形の面積公式）。

<details>
<summary>解答と解説</summary>

**解答:** `h = 2S / a`

**Tips:**
両辺を2倍: `2S = ah`
`a` で割る: `h = 2S/a`
</details>

### Q14. 式による説明（偶数・奇数）
「連続する2つの整数の和は奇数になる」ことを、文字を使って説明しなさい。

<details>
<summary>解答と解説</summary>

**解答:**
整数を `n` とすると、連続する2つの整数は `n, n+1` と表せる。
その和は `n + (n + 1) = 2n + 1`。
`2n` は偶数なので、`2n + 1` は奇数である。

> **Programming Link:**
> *   **Formal Proof:** プログラムの正当性証明と同じロジックです。任意の入力 `n` に対してプロパティ（奇数であること）が成立することを示しています。
</details>

### Q15. 式による説明（倍数）
「2桁の自然数と、その十の位と一の位を入れかえた数の和は、11の倍数になる」ことを説明しなさい。

<details>
<summary>解答と解説</summary>

**解答:**
十の位を `x`、一の位を `y` とすると、元の数は `10x + y`、入れかえた数は `10y + x`。
和は `(10x + y) + (10y + x) = 11x + 11y = 11(x + y)`。
`x + y` は整数なので、`11(x + y)` は11の倍数である。

**Tips:**
**「定義に還れ」**: 2桁の数の定義 `10x + y` が出発点です。
</details>

### Q16. 複雑な指数の計算
`(-2x)^3 ÷ 4x × 3x^2` を計算しなさい。

<details>
<summary>解答と解説</summary>

**解答:** `-6x^4`

**Tips:**
順序に注意（乗除は左から）。
1. 累乗: `-8x^3`
2. 除法: `-8x^3 / 4x = -2x^2`
3. 乗法: `-2x^2 × 3x^2 = -6x^4`
</details>

### Q17. 逆数の乗法
`6ab ÷ (-2/3 a)` を計算しなさい。

<details>
<summary>解答と解説</summary>

**解答:** `-9b`

**Tips:**
割る数の逆数を掛ける。
`-2/3 a` は `-2a / 3` なので、逆数は `-3 / 2a`。
`6ab × (-3 / 2a) = -9b`
**注意:** `a` が分母に来るのか分子に来るのか間違えやすいポイントです。
</details>

### Q18. 連立方程式の準備
`x + y = 5` を満たす自然数 `x, y` の組をすべて求めなさい。

<details>
<summary>解答と解説</summary>

**解答:** `(1, 4), (2, 3), (3, 2), (4, 1)`

**Tips:**
条件（自然数）によって解が有限個に絞られます。

> **Programming Link:**
> *   **Constraint Programming:** 制約条件下の解探索です。
</details>

### Q19. 表面積の公式変形
円柱の表面積 `S = 2πr^2 + 2πrh` を `h` について解きなさい。

<details>
<summary>解答と解説</summary>

**解答:** `h = (S - 2πr^2) / 2πr` （または `h = S/2πr - r`）

**Tips:**
`2πrh = S - 2πr^2`
`h = (S - 2πr^2) / 2πr`
</details>

### Q20. 文字式の利用（カレンダー）
カレンダーの数字を十字型に5つ囲んだとき（上、下、左、右、真ん中）、その5つの数の和は、真ん中の数の何倍になりますか。

<details>
<summary>解答と解説</summary>

**解答:** 5倍

**Tips:**
真ん中を `n` とすると、上 `n-7`、下 `n+7`、左 `n-1`、右 `n+1`。
和: `(n-7) + (n+7) + (n-1) + (n+1) + n = 5n`。
よって5倍。
</details>
