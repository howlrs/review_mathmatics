# セッション1：正の数と負の数 (7th Grade)

**対象:** Rust/Goプログラマのための数学超速習
**テーマ:** 正の数・負の数、四則演算、絶対値

---

## Phase 1: Foundational Check (基礎の確認) - 10問

このフェーズでは、**「定義の確認」**を最優先します。プログラミングにおいて型や変数の定義が曖昧だとバグを生むように、数学でも定義の理解が全ての基礎です。

### Q1. 正負の数の定義
次の数の中から、(a) 自然数、(b) 整数 をすべて選びなさい。
`0, -5, 3.5, 10, -1/2, 100`

<details>
<summary>解答と解説</summary>

**解答:**
(a) 自然数: `10, 100`
(b) 整数: `0, -5, 10, 100`

**解説:**
*   **自然数 (Natural Numbers):** 正の整数（1, 2, 3...）。`0`を含まないことが一般的（数学の分野によるが、中学数学では含まない）。
*   **整数 (Integers):** 正の整数、0、負の整数。

> **Programming Link:**
> *   **Rust/Go:** 自然数は `u32`, `u64` (Unsigned Integer) に近い概念ですが、`0`を含む点が異なります。整数は `i32`, `i64` (Signed Integer) です。
> *   **格言:** 「困ったときは『定義』に還れ」。`0`が自然数に含まれるかどうかはコンテキスト（数学 vs CS）で定義が異なる場合があるため、仕様（定義）確認が重要です。
</details>

### Q2. 数直線と絶対値
数直線上で、原点Oからの距離が `4` である数をすべて答えなさい。

<details>
<summary>解答と解説</summary>

**解答:** `+4, -4`

**解説:**
*   **絶対値 (Absolute Value):** 原点からの距離。記号 `|x|` で表す。

> **Programming Link:**
> *   **Rust:** `i32::abs(x)`。距離は常に非負（`u32`的な概念）です。
> *   **Go:** `math.Abs(x)` (float64)。
</details>

### Q3. 絶対値の大小
次の数の大小を不等号を使って表しなさい。
`-8, -3`

<details>
<summary>解答と解説</summary>

**解答:** `-8 < -3`

**解説:**
負の数は、絶対値が大きいほど小さい（数直線で左側にある）。

> **Programming Link:**
> *   **Comparison:** `if -8 < -3 { ... }` は `true`。
> *   **直感:** 「借金8万円」は「借金3万円」より状況が悪い（資産が少ない）。
</details>

### Q4. 加法 (同符号)
次の計算をしなさい。
`(-6) + (-4)`

<details>
<summary>解答と解説</summary>

**解答:** `-10`

**解説:**
同符号の和は、絶対値の和に共通の符号をつける。

> **Programming Link:**
> *   **Overflow:** `i8`型（範囲 -128〜127）で `-100 + (-50)` を計算すると `-150` となり、アンダーフロー（Rustではパニックまたはラップアラウンド）します。数の範囲を意識しましょう。
</details>

### Q5. 加法 (異符号)
次の計算をしなさい。
`(-9) + (+4)`

<details>
<summary>解答と解説</summary>

**解答:** `-5`

**解説:**
異符号の和は、絶対値の差に、絶対値が大きい方の符号をつける。
`|-9| = 9`, `|+4| = 4`。差は `5`。`-9`の方が絶対値が大きいので符号はマイナス。
</details>

### Q6. 減法
次の計算をしなさい。
`(+3) - (+8)`

<details>
<summary>解答と解説</summary>

**解答:** `-5`

**解説:**
引くことは、その数の符号を変えて足すことと同じ。
`(+3) + (-8) = -5`

> **Programming Link:**
> *   **Substraction:** CPUレベルでは、減算は「補数（2の補数）の加算」として処理されることが多いです。`a - b` は `a + (-b)` と等価です。
</details>

### Q7. 乗法 (異符号)
次の計算をしなさい。
`(-6) × (+3)`

<details>
<summary>解答と解説</summary>

**解答:** `-18`

**解説:**
異符号の積はマイナスになる。
</details>

### Q8. 乗法 (同符号)
次の計算をしなさい。
`(-4) × (-5)`

<details>
<summary>解答と解説</summary>

**解答:** `+20`

**解説:**
同符号の積はプラスになる。

> **Programming Link:**
> *   **Logic:** `NOT (NOT A) = A` のように、否定の否定は肯定（正）になります。向き（ベクトル）が180度反転し、さらにもう一度反転して元に戻るイメージです。
> *   **格言:** 「『なぜ？』は理解のエンジン」。なぜマイナス×マイナスはプラスなのか？（例：借金が減る＝資産が増える、数直線上の反転操作）。
</details>

### Q9. 除法と逆数
次の計算をしなさい。
`(-2/3) ÷ 2`

<details>
<summary>解答と解説</summary>

**解答:** `-1/3`

**解説:**
除法は逆数の乗法に直す。
`(-2/3) × (1/2) = -2/6 = -1/3`

> **Programming Link:**
> *   **Type:** 整数同士の割り算 `2 / 3` は、多くの言語（Go, Rust, Cなど）で `0` (整数切り捨て) になります。数学的な計算を行う場合は `float` キャストが必要です。
</details>

### Q10. 四則混合
次の計算をしなさい。
`3 - 2 × (-4)`

<details>
<summary>解答と解説</summary>

**解答:** `11`

**解説:**
乗除が先、加減が後。
1. `2 × (-4) = -8`
2. `3 - (-8) = 3 + 8 = 11`

> **Programming Link:**
> *   **Precedence:** 演算子の優先順位（Operator Precedence）。`*` は `+` より優先度が高い。
</details>

---

## Phase 2: Applied Mastery (応用と実践) - 10問

このフェーズでは、計算ルールを道具として使いこなし、少し複雑な問題を解決します。**「複雑な問題は『素因数分解』せよ」**を合言葉に、問題を小さなステップに分けましょう。

### Q11. 3つ以上の数の計算
`(-4) + 7 - 9 + 2`

<details>
<summary>解答と解説</summary>

**解答:** `-4`

**Tips:**
正の数同士、負の数同士を先にまとめると計算ミスが減ります。
1. 正の数: `7 + 2 = 9`
2. 負の数: `(-4) + (-9) = -13`
3. 合計: `9 + (-13) = -4`

> **Programming Link:**
> *   **Refactoring:** コードを整理して可読性を上げるように、計算手順も整理（グルーピング）することでバグ（計算ミス）を防げます。
</details>

### Q12. 累乗の計算
`(-3)^2` と `-3^2` の値をそれぞれ求めなさい。

<details>
<summary>解答と解説</summary>

**解答:** `(-3)^2 = 9`, `-3^2 = -9`

**Tips:**
`(-3)^2` は `(-3) × (-3)`。
`-3^2` は `-(3 × 3)`。
括弧の範囲（スコープ）に注意してください。

> **Programming Link:**
> *   **Scope/Binding:** 演算子がどこにかかるか（結合順序）。`-3^2` は `-(3.pow(2))` と解釈されます。
</details>

### Q13. 分配法則
`24 × (1/3 - 1/4)`

<details>
<summary>解答と解説</summary>

**解答:** `2`

**Tips:**
括弧の中を通分して計算してから掛ける方法と、分配法則を使って `24×(1/3) - 24×(1/4)` とする方法があります。この場合、分配法則の方が整数計算になり楽です。
`8 - 6 = 2`

> **Programming Link:**
> *   **Optimization:** 計算コストの低い経路を選ぶことは、アルゴリズムの最適化と同じです。
</details>

### Q14. 平均の利用
A, B, C, D, E の5人のテストの点数について、基準点（70点）との差が以下のようになりました。
`+5, -3, 0, +8, -10`
5人の平均点は何点ですか？

<details>
<summary>解答と解説</summary>

**解答:** `70点`

**Tips:**
「基準点との差の平均」を求めて、基準点に足します。
差の合計: `5 + (-3) + 0 + 8 + (-10) = 0`
差の平均: `0 / 5 = 0`
平均点: `70 + 0 = 70`

> **Programming Link:**
> *   **Delta Encoding:** 差分（Delta）だけを扱うことで、大きな数値を扱わずに済み、オーバーフローのリスクを減らしたり計算を単純化したりできます。
</details>

### Q15. 魔法陣（魔方陣）
縦、横、斜めの3つの数の和がすべて等しくなるように、空欄を埋める問題。
（ここでは概念的な問いかけ）
和が一定になる条件を使って、未知の数（変数）を求めるにはどうすればよいですか？

**Tips:**
1. すべての数字が埋まっている列を探し、その和（定数）を求めます。
2. 空欄が1つだけの列を探し、逆算（方程式）で求めます。

> **Programming Link:**
> *   **Constraint Solving:** 制約充足問題（CSP）。条件（制約）を満たす値を探索するアルゴリズムの基礎です。
</details>

### Q16. 数の集合と四則
「整数」の集合では、加法、減法、乗法は常に計算結果も整数になりますが、除法はそうとは限りません。
「自然数」の集合では、常に計算結果も自然数になるのはどの演算ですか？（加法、減法、乗法、除法から選択）

<details>
<summary>解答と解説</summary>

**解答:** 加法、乗法

**Tips:**
減法は `3 - 5 = -2` （自然数でない）となる場合があります。
除法は `1 ÷ 2 = 0.5` （自然数でない）となる場合があります。

> **Programming Link:**
> *   **Closure:** 数学的な「閉じている（Closure）」という性質。型システムにおいて、演算結果が同じ型に収まるかどうか（Type Safety）に関連します。
</details>

### Q17. 符号の判定
3つの数 a, b, c について、`a × b < 0`, `a × c > 0`, `a > c` であるとき、a, b, c の符号（正・負）を答えなさい。

<details>
<summary>解答と解説</summary>

**解答:** a: 正, b: 負, c: 正

**Tips:**
条件を一つずつ分析します（論理的推論）。
1. `a × c > 0` → aとcは同符号（共に正か、共に負）。
2. `a > c` → もし共に負なら、絶対値が小さい方が大きい（例: -2 > -5）。もし共に正なら、そのまま。
3. `a × b < 0` → aとbは異符号。

仮説検証（Experimental Thinking）:
*   Case 1: aが負とする。cも負。`a > c` より `|a| < |c|`。bは正。
*   Case 2: aが正とする。cも正。`a > c`。bは負。
*   ...条件が少し不足しているように見えますが、「a > c」かつ「ac > 0」なら、a, cは同符号。
    *   もしa, cが負なら、`a > c` (例: -2 > -5)。
    *   もしa, cが正なら、`a > c` (例: 5 > 2)。
    *   `ab < 0` なので、aが正ならbは負。aが負ならbは正。
    *   これだけでは一意に定まらない？ いえ、通常この手の問題は一意に定まる条件があります。
    *   あ、すみません。`a > c` だけでは符号は決まりませんね。
    *   **修正:** 問題文に「a, b, cは整数で...」などの追加条件がない場合、Case1, Case2両方ありえます。
    *   しかし、中学数学の典型題としては「a+b+c > 0」などの条件がつくことが多いです。ここでは**論理的思考の練習**として、「条件が足りない場合は場合分けが必要」と気づくことが正解です。
    *   **（出題意図としての正解）**: もし `a + b + c > 0` などの条件があれば絞れますが、この条件だけなら「a正, b負, c正」または「a負, b正, c負」の2パターンあり得ます。

> **Programming Link:**
> *   **Boolean Logic:** `(a * b < 0) && (a * c > 0) && (a > c)`。条件分岐のロジック構築と同じです。「条件を使い切ったか確認せよ」。
</details>

### Q18. 素因数分解の利用
`540` を素因数分解しなさい。

<details>
<summary>解答と解説</summary>

**解答:** `2^2 × 3^3 × 5`

**Tips:**
小さい素数（2, 3, 5...）から順に割っていきます。
`540 ÷ 2 = 270`
`270 ÷ 2 = 135`
`135 ÷ 3 = 45`
`45 ÷ 3 = 15`
`15 ÷ 3 = 5`

> **Programming Link:**
> *   **Prime Factorization:** 暗号理論（RSAなど）の基礎です。また、「問題を最小単位に分解する」という思考法の象徴でもあります。
</details>

### Q19. 最大公約数と最小公倍数
`12` と `18` の最大公約数 (GCD) と最小公倍数 (LCM) を求めなさい。

<details>
<summary>解答と解説</summary>

**解答:** GCD: `6`, LCM: `36`

**Tips:**
素因数分解を利用すると確実です。
`12 = 2^2 × 3`
`18 = 2 × 3^2`
GCD: 共通する因数の小さい指数 `2^1 × 3^1 = 6`
LCM: 全ての因数の大きい指数 `2^2 × 3^2 = 4 × 9 = 36`

> **Programming Link:**
> *   **Algorithm:** ユークリッドの互除法はGCDを求める有名なアルゴリズムです。
</details>

### Q20. 規則性の発見
次のように数が並んでいます。n番目の数はどう表せますか？
`1, 4, 7, 10, 13...`

<details>
<summary>解答と解説</summary>

**解答:** `3n - 2`

**Tips:**
差が `3` ずつ増えている（等差数列）。
`3 × n` を考えると `3, 6, 9...` となる。
実際の数はそれより `2` 小さい。

> **Programming Link:**
> *   **Loop/Index:** 配列のインデックス操作 `array[i]` やループカウンタ `for (i = 0; i < n; i++)` のロジック構築に直結します。`i` と値の関係式（写像）を見つける能力です。
</details>
