# 数学I: 実数と平方根 (Session 1)

**対象**: 社会人エンジニア (Rust/Go)
**学習目標**: 実数（有理数・無理数）の定義を再確認し、平方根の計算、有理化、絶対値の扱いをマスターする。これらは数値計算の精度やアルゴリズムの基礎となる。

---

## Phase 1: Foundational Check (基礎確認 10問)

**指針**: 「困ったときは『定義』に還れ」。計算の手順だけでなく、なぜそうなるのか（公理・定義）を意識せよ。

1.  **[定義]** 次の数のうち、無理数を選べ。また、有理数と無理数の定義を述べよ。
    $$ 0.3, \quad \sqrt{4}, \quad \sqrt{7}, \quad -\frac{2}{3}, \quad \pi, \quad 0.\dot{1}\dot{2} $$
    > **Prog Link**: コンピュータ上では全ての数は有限精度の「有理数（浮動小数点数）」または「近似値」として扱われる。$\sqrt{7}$ や $\pi$ を正確に扱うにはシンボリック演算が必要。

2.  **[平方根の性質]** $\sqrt{(-5)^2}$ の値を求めよ。また、一般に $\sqrt{a^2}$ はどのように表されるか。
    > **Hint**: $\sqrt{a^2} = a$ は常に成り立つか？ $a=-5$ の場合を考えよ。

3.  **[計算]** 次の式を計算せよ。
    $$ \sqrt{12} + \sqrt{27} - \sqrt{48} $$
    > **Maxim**: 「複雑な問題は『素因数分解』せよ」。ルートの中身を素因数分解して整理する。

4.  **[展開]** 次の式を展開せよ。
    $$ (\sqrt{3} + 2)(\sqrt{3} - 5) $$

5.  **[有理化]** 次の分数の分母を有理化せよ。
    $$ \frac{6}{\sqrt{3}} $$

6.  **[有理化]** 次の分数の分母を有理化せよ。
    $$ \frac{1}{\sqrt{5} + \sqrt{2}} $$
    > **Prog Link**: 分母の有理化は、数値計算において「桁落ち」を防ぐための式変形テクニックとしても応用される。

7.  **[対称式]** $x = \sqrt{3} + \sqrt{2}, y = \sqrt{3} - \sqrt{2}$ のとき、 $x^2 - y^2$ の値を求めよ。

8.  **[絶対値]** 方程式 $|x - 3| = 5$ を解け。

9.  **[絶対値とルート]** $a < 0$ のとき、 $\sqrt{a^2} + |a + 1|$ を簡単にせよ（場合分けが必要な場合は記述せよ）。

10. **[循環小数]** 循環小数 $0.\dot{1}\dot{2}$ ($=0.121212...$) を分数で表せ。
    > **Prog Link**: 循環小数は有理数である。無限に続くデータを有限の形式（分数）で表現する圧縮の考え方。

---

## Phase 2: Applied Mastery (応用・実践 10問)

**指針**: 「『解き方』は一つにあらず」。複数のアプローチを検討し、プログラミング的思考（アルゴリズム、エッジケース）とリンクさせよ。

11. **[複雑な有理化]**
    次の式の分母を有理化せよ。
    $$ \frac{1}{1 + \sqrt{2} + \sqrt{3}} $$
    > **Tip**: 3つの項がある場合、どれか2つをグループ化して $(A+B)(A-B)$ の形を作る。「構造化」のセンスが問われる。

12. **[整数部分と小数部分]**
    $\sqrt{7}$ の整数部分を $a$、小数部分を $b$ とするとき、 $a^2 + 2ab + b^2$ の値を求めよ。
    > **Prog Link**: `floor` 関数と剰余演算。 $b = \sqrt{7} - a$ と置くことで、正確な値を保持できる（変数の分離）。
    > **Maxim**: 「条件を使い切ったか確認せよ」。$b$ の定義を式に代入する前に、式の形をよく見よ（因数分解できないか？）。

13. **[二重根号]**
    次の式を簡単にせよ。
    $$ \sqrt{7 + 2\sqrt{10}} $$
    > **Logic**: 足して7、掛けて10になる2数を見つける。これは2次方程式の解と係数の関係と同値である。

14. **[二重根号の変形]**
    次の式を簡単にせよ。
    $$ \sqrt{4 - \sqrt{15}} $$
    > **Tip**: 公式 $\sqrt{a+b \pm 2\sqrt{ab}}$ を使うには係数「2」が必要。「形を整える」ために $\sqrt{\frac{8 - 2\sqrt{15}}{2}}$ と変形する発想。

15. **[式の値の計算]**
    $x = \frac{\sqrt{5} + 1}{\sqrt{5} - 1}$ のとき、 $x^2 + \frac{1}{x^2}$ の値を求めよ。
    > **Prog Link**: $x$ を有理化してから計算するか、対称式 $x+1/x$ を求めてから計算するか。計算コスト（ステップ数）が少ないのはどちらか？

16. **[絶対値を含む不等式]**
    不等式 $|2x - 1| < x + 4$ を解け。
    > **Maxim**: 「迷ったら『具体例』で実験せよ」。あるいはグラフを描いて視覚的に解の範囲を確認する（幾何学的アプローチ）。場合分け（$2x-1 \ge 0$ と $<0$）を厳密に行うこと。

17. **[無理数の証明]**
    $\sqrt{2}$ が無理数であることを背理法を用いて証明せよ。
    > **Logic**: 背理法 (Proof by Contradiction) は、プログラミングにおける「例外処理」や「前提条件の検証」に通じる。仮定（有理数である）が矛盾を引き起こすことを示す。
    > **Proof Sketch**: $\sqrt{2} = p/q$ （既約分数）と仮定し、両辺を2乗して偶奇性の矛盾を導く。

18. **[式の値の範囲]**
    $x$ が実数全体を動くとき、 $\sqrt{x^2 + 2x + 1} + \sqrt{x^2 - 4x + 4}$ の最小値を求めよ。
    > **Tip**: $\sqrt{A^2} = |A|$ の定義に戻る。 $|x+1| + |x-2|$ のグラフを書き、幾何学的に最小値を探索せよ（距離の和の最小化）。

19. **[近似値の利用]**
    $\sqrt{5} \approx 2.236$ として、 $\frac{1}{\sqrt{5}-2}$ の近似値を求めよ。ただし、分母を有理化してから代入すること。
    > **Prog Link**: 数値計算の鉄則。「引き算による桁落ち」を避けるため、分母を有理化して $\sqrt{5}+2$ の形にしてから代入する方が精度が良い。

20. **[高次式の値]**
    $x = 1 - \sqrt{2}$ のとき、 $x^3 - x^2 - 3x + 1$ の値を求めよ。
    > **Algorithm**: まともに代入すると計算量が多い。
    > 1. $x - 1 = -\sqrt{2}$ と変形し、両辺を2乗して $x^2 - 2x - 1 = 0$ を作る。
    > 2. 与式を $x^2 - 2x - 1$ で割り算（多項式の除算）し、剰余のみに代入する（剰余の定理の応用）。
    > これは「ハッシュ関数」や「CRC計算」における多項式除算と同じ構造である。

---

## 解答と解説

### Phase 1

1.  **無理数**: $\sqrt{7}, \pi$
    *   **定義**:
        *   有理数: 整数 $m$ と $0$ でない整数 $n$ を用いて $\frac{m}{n}$ の形で表せる数。
        *   無理数: 実数のうち、有理数でない数（循環しない無限小数）。
2.  **5**
    *   $\sqrt{a^2} = |a|$ である。よって $\sqrt{(-5)^2} = |-5| = 5$。
3.  **$\sqrt{3}$**
    *   $2\sqrt{3} + 3\sqrt{3} - 4\sqrt{3} = (2+3-4)\sqrt{3} = \sqrt{3}$。
4.  **$3 - 3\sqrt{3} - 10 = -7 - 3\sqrt{3}$**
5.  **$2\sqrt{3}$**
    *   $\frac{6\sqrt{3}}{3} = 2\sqrt{3}$。
6.  **$\frac{\sqrt{5}-\sqrt{2}}{3}$**
    *   分母・分子に $\sqrt{5}-\sqrt{2}$ を掛ける。分母は $5-2=3$。
7.  **$4\sqrt{6}$**
    *   $x+y = 2\sqrt{3}$。 $x-y = 2\sqrt{2}$。
    *   $x^2-y^2 = (x+y)(x-y) = (2\sqrt{3})(2\sqrt{2}) = 4\sqrt{6}$。
8.  **$x = 8, -2$**
    *   $x-3 = \pm 5$ より。
9.  **$-2a - 1$** (ただし $-1 < a < 0$ の時), **$-1$** (ただし $a \le -1$ の時)
    *   $\sqrt{a^2} = |a| = -a$ ($a<0$より)。
    *   $|a+1|$ は、$a \ge -1$ なら $a+1$、$a < -1$ なら $-(a+1)$。
    *   $-1 < a < 0$ の場合: $-a + (a+1) = 1$。
    *   $a < -1$ の場合: $-a - (a+1) = -2a - 1$。
10. **$\frac{4}{33}$**
    *   $x = 0.1212...$ と置く。 $100x = 12.1212...$。 $99x = 12$。 $x = \frac{12}{99} = \frac{4}{33}$。

### Phase 2

11. **$\frac{2+\sqrt{2}-\sqrt{6}}{4}$**
    *   分母を $(1+\sqrt{2}) + \sqrt{3}$ と見て、 $(1+\sqrt{2}) - \sqrt{3}$ を掛ける。
    *   分母 $= (1+\sqrt{2})^2 - 3 = 1 + 2\sqrt{2} + 2 - 3 = 2\sqrt{2}$。
    *   式 $= \frac{1+\sqrt{2}-\sqrt{3}}{2\sqrt{2}}$。さらに $\sqrt{2}$ を掛けて有理化。
    *   $\frac{\sqrt{2}+2-\sqrt{6}}{4}$。
12. **$7$**
    *   $2 < \sqrt{7} < 3$ より $a=2$。
    *   $b = \sqrt{7} - 2$。
    *   求める式は $(a+b)^2$ と因数分解できる。
    *   $a+b = 2 + (\sqrt{7}-2) = \sqrt{7}$。
    *   よって $(\sqrt{7})^2 = 7$。
13. **$\sqrt{5} + \sqrt{2}$**
    *   足して7、掛けて10になる数は 5 と 2。
14. **$\frac{\sqrt{10} - \sqrt{6}}{2}$**
    *   $\sqrt{4-\sqrt{15}} = \sqrt{\frac{8-2\sqrt{15}}{2}} = \frac{\sqrt{5}-\sqrt{3}}{\sqrt{2}}$。
    *   分母・分子に $\sqrt{2}$ を掛けて $\frac{\sqrt{10}-\sqrt{6}}{2}$。
15. **$7$**
    *   $x = \frac{(\sqrt{5}+1)^2}{5-1} = \frac{6+2\sqrt{5}}{4} = \frac{3+\sqrt{5}}{2}$。
    *   $1/x = \frac{3-\sqrt{5}}{2}$ (共役な無理数)。
    *   $x + 1/x = 3$。
    *   $x^2 + 1/x^2 = (x+1/x)^2 - 2 = 3^2 - 2 = 7$。
16. **$-1 < x < 5$**
    *   (i) $x \ge 1/2$ のとき: $2x - 1 < x + 4 \Rightarrow x < 5$。共通範囲 $1/2 \le x < 5$。
    *   (ii) $x < 1/2$ のとき: $-(2x - 1) < x + 4 \Rightarrow -2x + 1 < x + 4 \Rightarrow -3x < 3 \Rightarrow x > -1$。共通範囲 $-1 < x < 1/2$。
    *   (i)(ii) を合わせて $-1 < x < 5$。
17. **(略)**
    *   証明の概略は問題文のヒント参照。
18. **$3$**
    *   与式 $= |x+1| + |x-2|$。
    *   数直線上で、点 $x$ から $-1$ までの距離と、点 $x$ から $2$ までの距離の和。
    *   $x$ が $-1$ と $2$ の間にあるとき、距離の和は常に一定で $2 - (-1) = 3$。
    *   それ以外の範囲では距離の和は3より大きくなる。よって最小値は3。
19. **$4.236$**
    *   $\frac{1}{\sqrt{5}-2} = \sqrt{5} + 2$。
    *   $2.236 + 2 = 4.236$。
20. **$2$**
    *   $x - 1 = -\sqrt{2} \Rightarrow (x-1)^2 = 2 \Rightarrow x^2 - 2x - 1 = 0$。
    *   $x^3 - x^2 - 3x + 1$ を $x^2 - 2x - 1$ で割る。
    *   $x^3 - x^2 - 3x + 1 = (x^2 - 2x - 1)(x + 1) + 2$。
    *   $x^2 - 2x - 1 = 0$ なので、与式の値は余りの $2$ に等しい。
