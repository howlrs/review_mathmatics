# 数学A: 図形の性質 (3) 円の性質 I (Session 33)

**対象**: 社会人エンジニア (Rust/Go)
**学習目標**: 円周角の定理、円に内接する四角形の性質、接弦定理を習得し、幾何学的な角度計算や衝突判定への応用を学ぶ。

---

## Phase 1: Foundational Check (基礎確認 10問)

**指針**: 「困ったときは『定義』に還れ」。円周角は中心角の半分である。

1.  **[円周角の定理]** 1つの弧に対する円周角の大きさは、その弧に対する中心角の大きさの何倍か。
    > **Formula**: $1/2$。

2.  **[直径と円周角]** 半円の弧に対する円周角は何度か。
    > **Logic**: 中心角 $180^\circ$ の半分。

3.  **[円周角の定理の逆]** 4点 $A, B, C, D$ が同一円周上にあるための条件を、角の大きさを用いて述べよ。
    > **Logic**: $\angle ACB = \angle ADB$ （同じ側に点がある場合）。

4.  **[円に内接する四角形]** 円に内接する四角形の対角の和は何度か。

5.  **[外角]** 円に内接する四角形の1つの外角は、それと隣り合う内角の対角に等しいか。

6.  **[接線と半径]** 円の接線は、接点を通る半径とどのような角度で交わるか。

7.  **[接線の長さ]** 円外の1点からその円に引いた2本の接線の長さは等しいか。

8.  **[接弦定理]** 円の接線と、その接点を通る弦の作る角は、その角の内部にある何に等しいか。
    > **Term**: 弧に対する円周角。

9.  **[2円の位置関係]** 2つの円が「外接する」とき、中心間の距離 $d$ と半径 $r_1, r_2$ の関係式を記述せよ。
    > **Prog Link**: 衝突判定 (Collision Detection)。 $d = r_1 + r_2$。

10. **[共通接線]** 離れている2つの円の共通接線は全部で何本あるか。

---

## Phase 2: Applied Mastery (応用・実践 10問)

**指針**: 「条件を使い切ったか確認せよ」。補助線（特に中心と接点を結ぶ線、共通弦）が突破口になる。

11. **[円周角の計算]**
    円周上に3点 $A, B, C$ があり、 $\angle BAC = 50^\circ$ である。点 $A$ を含まない弧 $BC$ 上に点 $D$ をとるとき、 $\angle BDC$ の大きさを求めよ。

12. **[円に内接する四角形]**
    円に内接する四角形 $ABCD$ において、 $\angle A = 80^\circ, \angle B = 70^\circ$ のとき、 $\angle C, \angle D$ の大きさを求めよ。

13. **[接弦定理の利用]**
    円上の点 $A$ における接線を $AT$ とする。円周上に点 $B, C$ をとり、 $\angle BAT = 40^\circ$ とする。このとき $\angle ACB$ の大きさを求めよ。

14. **[接線の長さ]**
    円外の点 $P$ から円に引いた接線の接点を $A, B$ とする。 $PA=5, \angle APB=60^\circ$ のとき、弦 $AB$ の長さを求めよ。
    > **Logic**: $\triangle PAB$ は二等辺三角形かつ頂角60度 $\to$ 正三角形。

15. **[2円の交点]**
    2つの円が2点で交わるとき、中心間の距離 $d$ と半径 $r_1, r_2$ の関係式を記述せよ。
    > **Formula**: $|r_1 - r_2| < d < r_1 + r_2$ （三角形の成立条件）。

16. **[共通接線の長さ]**
    半径 $4$ と $2$ の円の中心間距離が $8$ であるとき、共通外接線の長さを求めよ。
    > **Algorithm**: 直角三角形を作る。 $\sqrt{8^2 - (4-2)^2}$。

17. **[共通内接線の長さ]**
    前問において、共通内接線の長さを求めよ。
    > **Algorithm**: $\sqrt{8^2 - (4+2)^2}$。

18. **[円と直線]**
    座標平面上の円 $x^2 + y^2 = 5$ と直線 $y = 2x + k$ が接するとき、定数 $k$ の値を求めよ。
    > **Prog Link**: 点と直線の距離公式 $d=r$。

19. **[シムソンの定理]** (発展)
    $\triangle ABC$ の外接円上の点 $P$ から3辺（またはその延長）に下ろした垂線の足は一直線上にある。この直線を何というか。

20. **[プログラミング]**
    2つの円 $(x_1, y_1, r_1)$ と $(x_2, y_2, r_2)$ が衝突しているかどうかを判定する関数 `is_colliding` の条件式を記述せよ（平方根計算を避けること）。
    > **Code**: `(x1-x2)^2 + (y1-y2)^2 <= (r1+r2)^2`。

---

## 解答と解説

### Phase 1

1.  **1/2倍**
2.  **$90^\circ$**
3.  **$\angle ACB = \angle ADB$**
4.  **$180^\circ$**
5.  **等しい**
6.  **$90^\circ$ (垂直)**
7.  **等しい**
8.  **円周角**
9.  **$d = r_1 + r_2$**
10. **4本**

### Phase 2

11. **$50^\circ$**
    *   同じ弧に対する円周角は等しい。
12. **$\angle C = 100^\circ, \angle D = 110^\circ$**
    *   対角の和は180度。
13. **$40^\circ$**
    *   接弦定理より $\angle ACB = \angle BAT$。
14. **5**
    *   $PA=PB$ より二等辺三角形。頂角60度なので正三角形。
15. **$|r_1 - r_2| < d < r_1 + r_2$**
16. **$2\sqrt{15}$**
    *   $\sqrt{64 - 4} = \sqrt{60} = 2\sqrt{15}$。
17. **$2\sqrt{7}$**
    *   $\sqrt{64 - 36} = \sqrt{28} = 2\sqrt{7}$。
18. **$k = \pm 5$**
    *   中心 $(0,0)$ と $2x - y + k = 0$ の距離。
    *   $|k| / \sqrt{5} = \sqrt{5} \Rightarrow |k| = 5$。
19. **シムソン線**
20. **解説**
    *   距離の2乗で比較することで `sqrt` を回避し、高速化する。

